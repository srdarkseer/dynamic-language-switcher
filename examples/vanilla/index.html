<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Language Switcher - Vanilla Example</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        border: "hsl(var(--border))",
                        input: "hsl(var(--input))",
                        ring: "hsl(var(--ring))",
                        background: "hsl(var(--background))",
                        foreground: "hsl(var(--foreground))",
                        primary: {
                            DEFAULT: "hsl(var(--primary))",
                            foreground: "hsl(var(--primary-foreground))",
                        },
                        secondary: {
                            DEFAULT: "hsl(var(--secondary))",
                            foreground: "hsl(var(--secondary-foreground))",
                        },
                        muted: {
                            DEFAULT: "hsl(var(--muted))",
                            foreground: "hsl(var(--muted-foreground))",
                        },
                        accent: {
                            DEFAULT: "hsl(var(--accent))",
                            foreground: "hsl(var(--accent-foreground))",
                        },
                        popover: {
                            DEFAULT: "hsl(var(--popover))",
                            foreground: "hsl(var(--popover-foreground))",
                        },
                        card: {
                            DEFAULT: "hsl(var(--card))",
                            foreground: "hsl(var(--card-foreground))",
                        },
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --card: 0 0% 100%;
            --card-foreground: 222.2 84% 4.9%;
            --popover: 0 0% 100%;
            --popover-foreground: 222.2 84% 4.9%;
            --primary: 222.2 47.4% 11.2%;
            --primary-foreground: 210 40% 98%;
            --secondary: 210 40% 96%;
            --secondary-foreground: 222.2 84% 4.9%;
            --muted: 210 40% 96%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 210 40% 96%;
            --accent-foreground: 222.2 84% 4.9%;
            --destructive: 0 84.2% 60.2%;
            --destructive-foreground: 210 40% 98%;
            --border: 214.3 31.8% 91.4%;
            --input: 214.3 31.8% 91.4%;
            --ring: 222.2 84% 4.9%;
            --radius: 0.5rem;
        }

        .dark {
            --background: 222.2 84% 4.9%;
            --foreground: 210 40% 98%;
            --card: 222.2 84% 4.9%;
            --card-foreground: 210 40% 98%;
            --popover: 222.2 84% 4.9%;
            --popover-foreground: 210 40% 98%;
            --primary: 210 40% 98%;
            --primary-foreground: 222.2 47.4% 11.2%;
            --secondary: 217.2 32.6% 17.5%;
            --secondary-foreground: 210 40% 98%;
            --muted: 217.2 32.6% 17.5%;
            --muted-foreground: 215 20.2% 65.1%;
            --accent: 217.2 32.6% 17.5%;
            --accent-foreground: 210 40% 98%;
            --destructive: 0 62.8% 30.6%;
            --destructive-foreground: 210 40% 98%;
            --border: 217.2 32.6% 17.5%;
            --input: 217.2 32.6% 17.5%;
            --ring: 212.7 26.8% 83.9%;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800">
    <div class="max-w-4xl mx-auto px-4 py-8">
        <header class="text-center mb-12">
            <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4" id="main-title">
                üåç Dynamic Language Switcher
            </h1>
            <p class="text-xl text-gray-600 dark:text-gray-300" id="main-subtitle">
                Vanilla JavaScript/TypeScript Example
            </p>
        </header>

        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-700 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center" id="demo-title">
                Language Switcher Demo
            </h2>
            
            <!-- Language Dropdown -->
            <div class="flex justify-center mb-8">
                <div class="relative inline-block">
                    <button id="dropdown-trigger" class="inline-flex items-center justify-center gap-2 px-6 py-3 text-base font-medium text-foreground bg-background border border-input rounded-lg shadow-sm hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2">
                        <span id="current-flag">üá∫üá∏</span>
                        <span id="current-name">English</span>
                        <svg id="dropdown-arrow" class="ml-2 h-5 w-5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    
                    <div id="dropdown-menu" class="hidden absolute right-0 mt-2 w-80 origin-top-right rounded-lg bg-popover border border-border shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50 max-h-96 overflow-y-auto">
                        <!-- Language options will be populated here -->
                    </div>
                </div>
            </div>

            <div class="text-center">
                <h3 id="welcome-text" class="text-3xl font-bold text-gray-900 dark:text-white mb-4">
                    Welcome to our app
                </h3>
                <p id="hello-text" class="text-xl text-gray-600 dark:text-gray-300 mb-4">
                    Hello, World!
                </p>
                <p id="description-text" class="text-lg text-gray-500 dark:text-gray-400">
                    This is a multilingual application
                </p>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-700 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center" id="status-title">
                Current Status
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6">
                    <div id="current-lang" class="text-2xl font-bold text-blue-600 dark:text-blue-400 mb-2">EN</div>
                    <div class="text-sm text-gray-600 dark:text-gray-400" id="current-lang-label">Current Language</div>
                </div>
                <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-6">
                    <div id="direction" class="text-2xl font-bold text-green-600 dark:text-green-400 mb-2">LTR</div>
                    <div class="text-sm text-gray-600 dark:text-gray-400" id="direction-label">Text Direction</div>
                </div>
                <div class="bg-purple-50 dark:bg-purple-900/20 rounded-lg p-6">
                    <div id="rtl-status" class="text-2xl font-bold text-purple-600 dark:text-purple-400 mb-2">No</div>
                    <div class="text-sm text-gray-600 dark:text-gray-400" id="rtl-label">RTL Mode</div>
                </div>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-700">
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center" id="console-title">
                Console Output
            </h2>
            <div class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4">
                <pre id="console-output" class="text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap"></pre>
            </div>
        </div>
    </div>

    <script>
        // Comprehensive translations
        const translations = {
            en: {
                mainTitle: 'üåç Dynamic Language Switcher',
                mainSubtitle: 'Vanilla JavaScript/TypeScript Example',
                demoTitle: 'Language Switcher Demo',
                welcome: 'Welcome to our app',
                hello: 'Hello, {name}!',
                description: 'This is a multilingual application',
                statusTitle: 'Current Status',
                currentLanguage: 'Current Language',
                textDirection: 'Text Direction',
                rtlMode: 'RTL Mode',
                consoleTitle: 'Console Output'
            },
            es: {
                mainTitle: 'üåç Cambiador de Idioma Din√°mico',
                mainSubtitle: 'Ejemplo de JavaScript/TypeScript Vanilla',
                demoTitle: 'Demo del Cambiador de Idioma',
                welcome: 'Bienvenido a nuestra aplicaci√≥n',
                hello: '¬°Hola, {name}!',
                description: 'Esta es una aplicaci√≥n multiling√ºe',
                statusTitle: 'Estado Actual',
                currentLanguage: 'Idioma Actual',
                textDirection: 'Direcci√≥n del Texto',
                rtlMode: 'Modo RTL',
                consoleTitle: 'Salida de Consola'
            },
            'zh-CN': {
                mainTitle: 'üåç Âä®ÊÄÅËØ≠Ë®ÄÂàáÊç¢Âô®',
                mainSubtitle: 'ÂéüÁîü JavaScript/TypeScript Á§∫‰æã',
                demoTitle: 'ËØ≠Ë®ÄÂàáÊç¢Âô®ÊºîÁ§∫',
                welcome: 'Ê¨¢Ëøé‰ΩøÁî®Êàë‰ª¨ÁöÑÂ∫îÁî®',
                hello: '‰Ω†Â•ΩÔºå{name}ÔºÅ',
                description: 'ËøôÊòØ‰∏Ä‰∏™Â§öËØ≠Ë®ÄÂ∫îÁî®',
                statusTitle: 'ÂΩìÂâçÁä∂ÊÄÅ',
                currentLanguage: 'ÂΩìÂâçËØ≠Ë®Ä',
                textDirection: 'ÊñáÊú¨ÊñπÂêë',
                rtlMode: 'RTL Ê®°Âºè',
                consoleTitle: 'ÊéßÂà∂Âè∞ËæìÂá∫'
            },
            ar: {
                mainTitle: 'üåç ŸÖÿ®ÿØŸÑ ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿØŸäŸÜÿßŸÖŸäŸÉŸä',
                mainSubtitle: 'ŸÖÿ´ÿßŸÑ JavaScript/TypeScript ÿπÿßÿØŸä',
                demoTitle: 'ÿπÿ±ÿ∂ ŸÖÿ®ÿØŸÑ ÿßŸÑŸÑÿ∫ÿ©',
                welcome: 'ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ŸÉ ŸÅŸä ÿ™ÿ∑ÿ®ŸäŸÇŸÜÿß',
                hello: 'ÿ£ŸáŸÑÿßŸãÿå {name}!',
                description: 'Ÿáÿ∞ÿß ÿ™ÿ∑ÿ®ŸäŸÇ ŸÖÿ™ÿπÿØÿØ ÿßŸÑŸÑÿ∫ÿßÿ™',
                statusTitle: 'ÿßŸÑÿ≠ÿßŸÑÿ© ÿßŸÑÿ≠ÿßŸÑŸäÿ©',
                currentLanguage: 'ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿ≠ÿßŸÑŸäÿ©',
                textDirection: 'ÿßÿ™ÿ¨ÿßŸá ÿßŸÑŸÜÿµ',
                rtlMode: 'Ÿàÿ∂ÿπ RTL',
                consoleTitle: 'ŸÖÿÆÿ±ÿ¨ÿßÿ™ Ÿàÿ≠ÿØÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ'
            },
            fr: {
                mainTitle: 'üåç Changeur de Langue Dynamique',
                mainSubtitle: 'Exemple JavaScript/TypeScript Vanilla',
                demoTitle: 'D√©mo du Changeur de Langue',
                welcome: 'Bienvenue dans notre application',
                hello: 'Bonjour, {name}!',
                description: 'Ceci est une application multilingue',
                statusTitle: '√âtat Actuel',
                currentLanguage: 'Langue Actuelle',
                textDirection: 'Direction du Texte',
                rtlMode: 'Mode RTL',
                consoleTitle: 'Sortie de Console'
            },
            de: {
                mainTitle: 'üåç Dynamischer Sprachumschalter',
                mainSubtitle: 'Vanilla JavaScript/TypeScript Beispiel',
                demoTitle: 'Sprachumschalter Demo',
                welcome: 'Willkommen in unserer App',
                hello: 'Hallo, {name}!',
                description: 'Dies ist eine mehrsprachige Anwendung',
                statusTitle: 'Aktueller Status',
                currentLanguage: 'Aktuelle Sprache',
                textDirection: 'Textrichtung',
                rtlMode: 'RTL-Modus',
                consoleTitle: 'Konsolenausgabe'
            },
            ja: {
                mainTitle: 'üåç ÂãïÁöÑË®ÄË™ûÂàá„ÇäÊõø„Åà',
                mainSubtitle: '„Éê„Éã„É© JavaScript/TypeScript „ÅÆ‰æã',
                demoTitle: 'Ë®ÄË™ûÂàá„ÇäÊõø„Åà„Éá„É¢',
                welcome: '„Ç¢„Éó„É™„Å∏„Çà„ÅÜ„Åì„Åù',
                hello: '„Åì„Çì„Å´„Å°„ÅØ„ÄÅ{name}„Åï„ÇìÔºÅ',
                description: '„Åì„Çå„ÅØÂ§öË®ÄË™û„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Åß„Åô',
                statusTitle: 'ÁèæÂú®„ÅÆÁä∂ÊÖã',
                currentLanguage: 'ÁèæÂú®„ÅÆË®ÄË™û',
                textDirection: '„ÉÜ„Ç≠„Çπ„Éà„ÅÆÊñπÂêë',
                rtlMode: 'RTL„É¢„Éº„Éâ',
                consoleTitle: '„Ç≥„É≥„ÇΩ„Éº„É´Âá∫Âäõ'
            },
            ko: {
                mainTitle: 'üåç ÎèôÏ†Å Ïñ∏Ïñ¥ Ï†ÑÌôòÍ∏∞',
                mainSubtitle: 'Î∞îÎãêÎùº JavaScript/TypeScript ÏòàÏ†ú',
                demoTitle: 'Ïñ∏Ïñ¥ Ï†ÑÌôòÍ∏∞ Îç∞Î™®',
                welcome: 'Ïï±Ïóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§',
                hello: 'ÏïàÎÖïÌïòÏÑ∏Ïöî, {name}Îãò!',
                description: 'Ïù¥Í≤ÉÏùÄ Îã§Íµ≠Ïñ¥ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏûÖÎãàÎã§',
                statusTitle: 'ÌòÑÏû¨ ÏÉÅÌÉú',
                currentLanguage: 'ÌòÑÏû¨ Ïñ∏Ïñ¥',
                textDirection: 'ÌÖçÏä§Ìä∏ Î∞©Ìñ•',
                rtlMode: 'RTL Î™®Îìú',
                consoleTitle: 'ÏΩòÏÜî Ï∂úÎ†•'
            }
        };

        // Available languages
        const availableLanguages = [
            { code: 'en', name: 'English', flag: 'üá∫üá∏' },
            { code: 'es', name: 'Espa√±ol', flag: 'üá™üá∏' },
            { code: 'fr', name: 'Fran√ßais', flag: 'üá´üá∑' },
            { code: 'de', name: 'Deutsch', flag: 'üá©üá™' },
            { code: 'it', name: 'Italiano', flag: 'üáÆüáπ' },
            { code: 'pt', name: 'Portugu√™s', flag: 'üáµüáπ' },
            { code: 'ru', name: '–†—É—Å—Å–∫–∏–π', flag: 'üá∑üá∫' },
            { code: 'ja', name: 'Êó•Êú¨Ë™û', flag: 'üáØüáµ' },
            { code: 'ko', name: 'ÌïúÍµ≠Ïñ¥', flag: 'üá∞üá∑' },
            { code: 'zh-CN', name: 'ÁÆÄ‰Ωì‰∏≠Êñá', flag: 'üá®üá≥' },
            { code: 'zh-TW', name: 'ÁπÅÈ´î‰∏≠Êñá', flag: 'üáπüáº' },
            { code: 'ar', name: 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©', flag: 'üá∏üá¶', rtl: true },
            { code: 'he', name: '◊¢◊ë◊®◊ô◊™', flag: 'üáÆüá±', rtl: true },
            { code: 'fa', name: 'ŸÅÿßÿ±ÿ≥€å', flag: 'üáÆüá∑', rtl: true },
            { code: 'ur', name: 'ÿßÿ±ÿØŸà', flag: 'üáµüá∞', rtl: true },
            { code: 'hi', name: '‡§π‡§ø‡§®‡•ç‡§¶‡•Ä', flag: 'üáÆüá≥' },
            { code: 'bn', name: '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ', flag: 'üáßüá©' },
            { code: 'th', name: '‡πÑ‡∏ó‡∏¢', flag: 'üáπüá≠' },
            { code: 'vi', name: 'Ti·∫øng Vi·ªát', flag: 'üáªüá≥' },
            { code: 'tr', name: 'T√ºrk√ße', flag: 'üáπüá∑' },
            { code: 'nl', name: 'Nederlands', flag: 'üá≥üá±' }
        ];

        // Mock Language Switcher for demo purposes
        class MockLanguageSwitcher {
            constructor() {
                this.currentLanguage = 'en';
                this.availableLanguages = availableLanguages;
                this.translations = translations;
            }

            setLanguage(language) {
                this.currentLanguage = language;
                this.updateUI();
                this.logToConsole(`Language changed to: ${language}`);
            }

            getText(key, params = {}) {
                const text = this.translations[this.currentLanguage]?.[key] || this.translations.en[key] || key;
                return text.replace(/\{(\w+)\}/g, (match, param) => params[param] || match);
            }

            isRTL() {
                const config = this.availableLanguages.find(lang => lang.code === this.currentLanguage);
                return config?.rtl || false;
            }

            getDocumentDirection() {
                return this.isRTL() ? 'rtl' : 'ltr';
            }

            updateUI() {
                // Update all text content
                document.getElementById('main-title').textContent = this.getText('mainTitle');
                document.getElementById('main-subtitle').textContent = this.getText('mainSubtitle');
                document.getElementById('demo-title').textContent = this.getText('demoTitle');
                document.getElementById('welcome-text').textContent = this.getText('welcome');
                document.getElementById('hello-text').textContent = this.getText('hello', { name: 'World' });
                document.getElementById('description-text').textContent = this.getText('description');
                document.getElementById('status-title').textContent = this.getText('statusTitle');
                document.getElementById('current-lang-label').textContent = this.getText('currentLanguage');
                document.getElementById('direction-label').textContent = this.getText('textDirection');
                document.getElementById('rtl-label').textContent = this.getText('rtlMode');
                document.getElementById('console-title').textContent = this.getText('consoleTitle');

                // Update current language display
                const currentLang = this.availableLanguages.find(lang => lang.code === this.currentLanguage);
                document.getElementById('current-flag').textContent = currentLang.flag;
                document.getElementById('current-name').textContent = currentLang.name;

                // Update status
                document.getElementById('current-lang').textContent = this.currentLanguage.toUpperCase();
                document.getElementById('direction').textContent = this.getDocumentDirection().toUpperCase();
                document.getElementById('rtl-status').textContent = this.isRTL() ? 'Yes' : 'No';

                // Update document direction
                document.documentElement.dir = this.getDocumentDirection();
            }

            logToConsole(message) {
                const output = document.getElementById('console-output');
                const timestamp = new Date().toLocaleTimeString();
                output.textContent += `[${timestamp}] ${message}\n`;
                output.scrollTop = output.scrollHeight;
            }
        }

        // Initialize
        const languageSwitcher = new MockLanguageSwitcher();

        // Populate dropdown menu
        function populateDropdown() {
            const dropdownMenu = document.getElementById('dropdown-menu');
            dropdownMenu.innerHTML = '';

            availableLanguages.forEach(lang => {
                const button = document.createElement('button');
                button.className = 'block w-full px-4 py-3 text-left text-sm text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer transition-colors';
                button.innerHTML = `
                    <div class="flex items-center space-x-3">
                        <span class="text-lg">${lang.flag}</span>
                        <div class="flex-1">
                            <div class="font-medium">${lang.name}</div>
                            <div class="text-xs text-muted-foreground">${lang.code}</div>
                        </div>
                        ${lang.rtl ? '<span class="text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded">RTL</span>' : ''}
                    </div>
                `;
                button.addEventListener('click', () => {
                    languageSwitcher.setLanguage(lang.code);
                    toggleDropdown();
                });
                dropdownMenu.appendChild(button);
            });
        }

        // Toggle dropdown
        function toggleDropdown() {
            const dropdownMenu = document.getElementById('dropdown-menu');
            const dropdownArrow = document.getElementById('dropdown-arrow');
            const isOpen = dropdownMenu.classList.contains('hidden');
            
            if (isOpen) {
                dropdownMenu.classList.remove('hidden');
                dropdownArrow.style.transform = 'rotate(180deg)';
            } else {
                dropdownMenu.classList.add('hidden');
                dropdownArrow.style.transform = 'rotate(0deg)';
            }
        }

        // Add event listeners
        document.getElementById('dropdown-trigger').addEventListener('click', toggleDropdown);

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            const dropdown = document.getElementById('dropdown-trigger');
            const dropdownMenu = document.getElementById('dropdown-menu');
            if (!dropdown.contains(e.target) && !dropdownMenu.contains(e.target)) {
                dropdownMenu.classList.add('hidden');
                document.getElementById('dropdown-arrow').style.transform = 'rotate(0deg)';
            }
        });

        // Initialize
        populateDropdown();
        languageSwitcher.updateUI();
        languageSwitcher.logToConsole('Language switcher initialized');
        languageSwitcher.logToConsole('Current language: ' + languageSwitcher.currentLanguage);
        languageSwitcher.logToConsole('Welcome message: ' + languageSwitcher.getText('welcome'));
        languageSwitcher.logToConsole('Hello message: ' + languageSwitcher.getText('hello', { name: 'World' }));
    </script>
</body>
</html> 